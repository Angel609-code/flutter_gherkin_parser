// DO NOT EDIT MANUALLY. Generated by flutter_gherkin_parser.

{{{configImport}}}
import 'package:flutter_gherkin_parser/models/models.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:flutter_gherkin_parser/integration_test_helper.dart';

void main() async {
  final helper = IntegrationTestHelper(
    config: config,
    {{#features}}
    {{#hasBackgroundSteps}}
    backgroundSteps: _backgroundSteps,
    {{/hasBackgroundSteps}}
    {{/features}}
    scenariosAndSteps: _scenariosAndSteps,
  );
  {{#features}}

  group('Feature: {{name}}', () {
    setUpAll(() async {
      await helper.setUpFeature(featureInfo: _featureInfo);
    });

    {{#scenarios}}
    testWidgets('Scenario: {{name}}', (WidgetTester tester) async {
      final ScenarioInfo scenario = ScenarioInfo(
        scenarioName: '{{name}}',
        line: {{line}},
      );

      await helper.setUp(tester, scenario);
      await helper.runStepsForScenario(scenario);
    });
    {{^isLast}}

    {{/isLast}}
    {{/scenarios}}
  });
  {{/features}}
}
{{#features}}

FeatureInfo _featureInfo = FeatureInfo(
  featureName: '{{name}}',
  uri: '{{uri}}',
  line: {{line}},
);
{{#hasBackgroundSteps}}

final List<String> _backgroundSteps = <String>[
  {{#backgroundSteps}}
  r'''{{{jsonStep}}}''',
  {{/backgroundSteps}}
];

{{/hasBackgroundSteps}}
{{^hasBackgroundSteps}}

{{/hasBackgroundSteps}}
final Map<String, List<String>> _scenariosAndSteps = {
{{#scenarios}}
  '{{name}}': [
    {{#steps}}
    r'''{{{json}}}''',
    {{/steps}}
  ],
{{/scenarios}}
};
{{/features}}